# learningOS_blog
2022 OS 训练营每日进度记录. 
慢慢来, 比较快. 不贪多, 力求弄懂眼前遇到的问题. 

## day 8
### 计划
1. 今天目测比较闲, 一定要把 lab1 (test3) 做完.

### 成果
1. 这次实验比想象的难得多. os3 目录给出了一个基本的框架, 但是执行用户态程序/处理中断/上下文的保存与恢复/系统调用分发与实现/时间片等等都需要自己给出实现.
2. 在内联汇编上踩坑花了些时间, 汇编中有中文注释 Rust 就只能读出空字符串.
3. 目前可以将控制流切入用户程序, 但是执行到某个 ld 执行时会触发 loadFault Exception, 原因还不确定. 
4. 深刻体会到: 了解原理与动手实现之间差了十万八千里.

## day 7
### 计划
1. 尝试做 lab1 (test3).

### 成果
1. 浅读实验指导的第三章, 无论是协作式调度或是抢占式调度的原理我都比较熟悉了, 所以读下来障碍并不太多 (也可能是因为我读的不细). 文档中代码部分有些太长了, 所以为了节省时间略过了一些. 
2. 今天来不及做习题了, 留到明天吧.

## day 6
### 计划
1. 继续昨天未完成的 lab0-1. 

### 成果
1. 精读实验指导的第二章. 对于保存上下文和链接用户态程序的汇编代码理解的比较透彻了. 
2. 没改动任何文件, 将仓库 push 后, CI竟然通过了. 仿照着 Test2 实验的 toolchain 配置, 我又重新将 Test1 仓库上传了几次, 但是仍然没有解决 CI 报错的问题. 似乎是 CI 脚本有问题? 
3. 从家回学校了, 想必明天起我将进入高产期 (想peach).

## day 5
### 计划
1. 尝试本地运行 lab0-1 (Test2), 以及阅读相关文档. 

### 成果
1. 浅读了下第二章的"引言"和"实现应用程序"两节. 基本理解了用户态程序的编译机制. (这两天回趟家, 时间比较紧张)

## day 4
1. 今天事情有点多, 过. 

## day 3
### 计划
1. 跑一下step2 lab0-0 的实验, 先试试水, 不知道能做到第几节.

### 成果
1. os1 目录能跑起来, 对于编译器toolchain稍微改了下配置, 否则似乎会因为版本太旧而报错. 但是 github CI 仍然出错 ???  
2. 看到链接器脚本, 结合文档介绍, 大致明白它规定了 kernel 的 entrypoint 和各个段 (SECTION) 的先后顺序及起止地址的内存对齐. 
3. 通过阅读 riscv 手册, 我知道 RustSBI 运行在 Machine 模式, 而 Kernel 仅运行在 Supervisor 模式. 想更深入的了解下 SBI 接口的细节. 文档中说 SBI 提供的服务很少, 例如关机, 显示字符串等.


## day 2
### 计划
1. 做完 rustling
2. step 1 自学risc-v系统结构. 由于risc-v我也有一点基础, 所以不清楚陌生知识会占多大比例. 按照练习要求, 今天的重点放在RV32/64特权架构这部分.

### 成果
1. rustling 做完了
2. 读完《RISC-V手册：一本开源指令集的指南》的第十章. 此章内容总体上已经比较了解了. 在阅读文中的最简中断处理函数的汇编代码后, 感觉对于scratch寄存器的用法清晰了很多.

## day 1
### 计划
1. 已经有一定rust的基础了, 所以快速刷一下rustling的基础题吧

### 成果
1. 竟然完成了 81/84, 看来我比自己想象中要厉害啊, 哈哈哈

